<!doctype html>
<html lang="ar">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ÙˆØ±Ø´Ø© Ù…ÙŠØ±Ø§ â€” Ø±Ù…Ø¶Ø§Ù† ÙƒØ±ÙŠÙ…</title>
<style>
  :root{--accent:#d32f2f;--accent-dark:#b22222;--muted:#6b6b6b;--card:#fff;--bg:#fbf7f2}
  *{box-sizing:border-box}
  body{margin:0;font-family:Inter, "Segoe UI", Tahoma, Arial, sans-serif;background:var(--bg);direction:rtl;color:#222}
  header{position:sticky;top:0;z-index:40;background:linear-gradient(90deg,#fff 0%, #fff 60%, rgba(212,163,115,0.06) 100%);display:flex;align-items:center;gap:16px;padding:14px 20px;border-bottom:1px solid #eee}
  .brand{display:flex;align-items:center;gap:12px}
  .logo{width:44px;height:44px;border-radius:8px;background:linear-gradient(135deg,var(--accent),var(--accent-dark));display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700}
  .brand h1{margin:0;font-size:1.1rem}
  .header-actions{display:flex;align-items:center;gap:12px}
  .lang{font-size:0.9rem;color:var(--muted)}
  .cart-btn{position:fixed;top:14px;left:14px;background:var(--accent);color:#fff;padding:10px 12px;border-radius:10px;border:none;cursor:pointer;z-index:60;display:flex;align-items:center;gap:8px;box-shadow:0 6px 18px rgba(211,47,47,.18);transition:box-shadow .25s,transform .12s}
  .cart-btn.glow{box-shadow:0 8px 28px rgba(211,47,47,.35);transform:translateY(-2px)}
  .cart-badge{background:#fff;color:var(--accent);font-weight:700;padding:2px 8px;border-radius:999px;font-size:0.85rem}
  .container{display:grid;grid-template-columns:240px 1fr 320px;gap:18px;padding:20px;max-width:1200px;margin:18px auto}
  .sidebar{background:var(--card);padding:14px;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,.04)}
  .sidebar h3{margin:0 0 10px 0;color:var(--accent)}
  .cats{display:flex;flex-direction:column;gap:8px}
  .cat{padding:10px;border-radius:8px;color:#333;cursor:pointer;border:1px solid #f0f0f0}
  .main{display:flex;flex-direction:column;gap:16px}
  .hero{background:linear-gradient(90deg,#d4a373,#f0cfa0);padding:20px;border-radius:12px;color:#fff;display:flex;align-items:center;justify-content:space-between;gap:12px}
  .hero .text{font-size:1.05rem;font-weight:700}
  .products{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:14px}
  .card{background:var(--card);padding:12px;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,.04);display:flex;flex-direction:column;gap:10px;align-items:center;text-align:center;position:relative}
  .badge-discount{position:absolute;top:10px;right:10px;background:#ffeb3b;color:#333;padding:6px 8px;border-radius:8px;font-weight:700;font-size:0.85rem}
  .card .img{width:100%;height:160px;border-radius:8px;overflow:hidden;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg,#fff,#f7f7f7)}
  .card img{width:100%;height:100%;object-fit:cover;display:block}
  .card h4{margin:0;font-size:1rem}
  .price{color:var(--accent);font-weight:800}
  .old-price{color:#999;text-decoration:line-through;font-size:0.9rem;margin-left:8px}
  .card .actions{display:flex;gap:8px;width:100%;justify-content:center}
  .btn{background:var(--accent);color:#fff;border:none;padding:8px 12px;border-radius:8px;cursor:pointer}
  .btn.secondary{background:#fff;color:var(--accent);border:1px solid #f0f0f0}
  .rightcol{display:flex;flex-direction:column;gap:12px}
  .panel{background:var(--card);padding:12px;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,.04)}
  .panel h3{margin:0 0 8px 0;color:var(--accent)}
  .rec-item{display:flex;gap:10px;align-items:center;padding:8px;border-radius:8px}
  .rec-item img{width:64px;height:64px;border-radius:8px;object-fit:cover}
  .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.45);z-index:80;align-items:center;justify-content:center;padding:20px}
  .modal .box{background:#fff;padding:18px;border-radius:12px;max-width:520px;width:100%;max-height:90vh;overflow:auto}
  .close{float:left;cursor:pointer;font-size:1.1rem;color:#666}
  input,textarea{width:100%;padding:10px;border-radius:8px;border:1px solid #e6e6e6;margin:8px 0}
  footer{padding:20px;text-align:center;color:var(--muted);font-size:0.95rem}
  @media(max-width:1100px){.container{grid-template-columns:200px 1fr 260px;max-width:980px}}
  @media(max-width:900px){.container{grid-template-columns:1fr;padding:12px}.sidebar{order:2}.rightcol{order:3}.hero{flex-direction:column;align-items:flex-start;gap:8px}.cart-btn{left:10px;top:10px}}
  .muted{color:var(--muted);font-size:0.95rem}
  .empty{padding:12px;border-radius:8px;background:#fff;text-align:center;color:var(--muted)}
</style>
</head>
<body>

<button class="cart-btn" id="cartBtn" onclick="openCart()">
  ğŸ›’ <span class="cart-badge" id="cartCount">0</span>
</button>

<header>
  <div class="brand">
    <div class="logo">MA</div>
    <h1>Ø´Ø±ÙƒÙ‡ Ù…ÙŠØ±Ø§</h1>
  </div>

  <div class="header-actions">
    <div class="lang">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</div>
  </div>
</header>

<main class="container">
  <aside class="sidebar">
    <h3>Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</h3>
    <div class="cats">
      <div class="cat" onclick="filterCategory('all')">ÙƒÙ„ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</div>
      <div class="cat" onclick="filterCategory('ramadan')">Ù‡Ø¯Ø§ÙŠØ§ Ø±Ù…Ø¶Ø§Ù†</div>
      <div class="cat" onclick="filterCategory('decor')">ÙÙˆØ§Ù†ÙŠØ³ ÙˆØ²ÙŠÙ†Ø©</div>
      <div class="cat" onclick="filterCategory('pack')">Ù…Ø³ØªÙ„Ø²Ù…Ø§Øª Ø¯Ù„ÙŠÙØ±ÙŠ</div>
    </div>
  </aside>

  <section class="main">
    <div class="hero">
      <div>
        <div class="text">Ø±Ù…Ø¶Ø§Ù† ÙƒØ±ÙŠÙ… â€” Ø¹Ø±ÙˆØ¶ Ø®Ø§ØµØ© Ù„ÙØªØ±Ø© Ù…Ø­Ø¯ÙˆØ¯Ø©</div>
        <div class="sub">ØªÙˆØµÙŠÙ„  Ø³Ø±ÙŠØ¹ ÙˆØ¢Ù…Ù†</div>
      </div>
      <div style="text-align:center">
        <div style="font-size:1.6rem;font-weight:800">Ø®ØµÙ… Ù¡Ù Ù  Ø¬.Ù… Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙÙˆÙ‚ Ù¡Ù Ù Ù  Ø¬.Ù…</div>
        <div class="muted">Ø³Ø§Ø±Ø¹ Ø¨Ø§Ù„Ø·Ù„Ø¨ Ù‚Ø¨Ù„ Ù†ÙØ§Ø¯ Ø§Ù„ÙƒÙ…ÙŠØ©</div>
      </div>
    </div>

    <div class="panel">
      <h3>Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</h3>
      <div class="products" id="products"></div>
    </div>
  </section>

  <aside class="rightcol">
    <div class="panel">
      <h3>Ø¹Ø±ÙˆØ¶ Ù…Ù…ÙŠØ²Ø©</h3>
      <div class="rec-item">
        <img src="./lantern.jpg" id="recImg1" alt="rec1" onerror="this.src='./placeholder.jpg'">
        <div class="meta">
          <div style="font-weight:700">ÙØ§Ù†ÙˆØ³ Ø±Ù…Ø¶Ø§Ù†</div>
          <div class="muted">Ù…Ù† 130 Ø¬.Ù…</div>
        </div>
      </div>
      <div class="rec-item">
        <img src="./box.jpg" id="recImg2" alt="rec2" onerror="this.src='./placeholder.jpg'">
        <div class="meta">
          <div style="font-weight:700">ØµÙ†Ø¯ÙˆÙ‚ Ø¯Ù„ÙŠÙØ±ÙŠ</div>
          <div class="muted">Ù…Ù† 1200 Ø¬.Ù…</div>
        </div>
      </div>
    </div>

    <div class="panel">
      <h3>Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</h3>
      <div class="muted">Ø¯Ø¹Ù… Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨ Ø¹Ù†Ø¯ Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨</div>
    </div>
  </aside>
</main>

<div class="modal" id="cartModal">
  <div class="box">
    <span class="close" onclick="closeCart()">âœ–</span>
    <h3>Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h3>
    <div id="cartList" class="muted empty">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª</div>
    <div style="margin-top:12px;font-weight:800" id="cartTotal">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: 0 Ø¬.Ù…</div>
    <div style="margin-top:12px;display:flex;gap:8px;justify-content:flex-end">
      <button class="btn secondary" onclick="closeCart()">Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„ØªØ³ÙˆÙ‚</button>
      <button class="btn" onclick="showCheckout()">Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨</button>
    </div>
  </div>
</div>

<div class="modal" id="checkoutModal">
  <div class="box">
    <span class="close" onclick="closeCheckout()">âœ–</span>
    <h3>Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø´ØªØ±ÙŠ</h3>
    <input id="buyerName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" />
    <input id="buyerPhone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" />
    <textarea id="buyerAddress" rows="3" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙˆØµÙŠÙ„"></textarea>
    <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:8px">
      <button class="btn secondary" onclick="closeCheckout()">Ø¹ÙˆØ¯Ø©</button>
      <button class="btn" onclick="sendOrder()">Ø¥Ø±Ø³Ø§Ù„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</button>
    </div>
  </div>
</div>

<footer>Â© REO SHOP â€” Ø±Ù…Ø¶Ø§Ù† ÙƒØ±ÙŠÙ…</footer>

<script>
/* --- Ø¶Ø¹ Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØµÙˆØ± Ù‡Ù†Ø§ Ù„ÙƒÙ„ Ù…Ù†ØªØ¬ (Ø§Ø³ØªØ¨Ø¯Ù„ PUT_IMAGE_URL_HERE Ø¨Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©) --- */
const productsData = [
  {id:1,name:'ØµÙ†Ø¯ÙˆÙ‚ Ø¯Ù„ÙŠÙØ±ÙŠ',price:1200, img:'https://d.top4top.io/p_367643qh10.jpg', category:'pack'},
  {id:2,name:'ÙÙˆØ§Ù†ÙŠØ³ Ø±Ù…Ø¶Ø§Ù†',price:130, img:'https://g.top4top.io/p_3676xxrz33.jpg', category:'decor'},
  {id:3,name:'Ù…ÙŠØ¯Ø§Ù„ÙŠØ§Øª',price:25, img:'https://f.top4top.io/p_367699byn2.jpg', category:'ramadan'},
  {id:4,name:'Ø³ÙƒØ±ÙŠÙ‡',price:70, img:'https://e.top4top.io/p_3676gypd61.jpg', category:'ramadan'}
];

const DISCOUNT_THRESHOLD = 1000; // Ø­Ø¯ Ø§Ù„Ø³Ø¹Ø± Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø®ØµÙ…
const DISCOUNT_AMOUNT = 100;     // Ù‚ÙŠÙ…Ø© Ø§Ù„Ø®ØµÙ…

let cart = {};
let currentFilter = 'all';

/* Ø­Ø³Ø§Ø¨ Ø§Ù„Ø³Ø¹Ø± Ø¨Ø¹Ø¯ Ø§Ù„Ø®ØµÙ… Ø¥Ù† ÙˆØ¬Ø¯ */
function priceAfterDiscount(p){
  if(p > DISCOUNT_THRESHOLD) return p - DISCOUNT_AMOUNT;
  return p;
}

/* Ø±Ù†Ø¯Ø± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ø¹ Ø¹Ø±Ø¶ Ø§Ù„Ø®ØµÙ… Ø¥Ù† ÙˆØ¬Ø¯ */
function renderProducts(){
  const el = document.getElementById('products');
  el.innerHTML = '';
  const filtered = productsData.filter(p => currentFilter === 'all' ? true : p.category === currentFilter);
  if(filtered.length === 0){
    el.innerHTML = '<div class="empty">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ù…Ø·Ø§Ø¨Ù‚Ø©</div>';
    return;
  }
  filtered.forEach(p=>{
    const discounted = p.price > DISCOUNT_THRESHOLD;
    const finalPrice = priceAfterDiscount(p.price);
    const card = document.createElement('div');
    card.className = 'card';
    card.innerHTML = `
      ${discounted ? '<div class="badge-discount">Ø®ØµÙ… Ù¡Ù Ù  Ø¬.Ù…</div>' : ''}
      <div class="img"><img src="${p.img}" alt="${p.name}" onerror="this.onerror=null;this.src='./placeholder.jpg'"></div>
      <h4>${p.name}</h4>
      <div>
        ${discounted ? `<span class="old-price">${p.price} Ø¬.Ù…</span>` : ''}
        <span class="price">${finalPrice} Ø¬.Ù…</span>
      </div>
      <div class="actions">
        <button class="btn" onclick="addToCart(${p.id})">Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©</button>
      </div>
    `;
    el.appendChild(card);
  });
  // ØªØ­Ø¯ÙŠØ« ØµÙˆØ± Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø¥Ù† ÙˆÙØ¬Ø¯Øª Ø±ÙˆØ§Ø¨Ø·
  const rec1 = productsData.find(x=>x.name.includes('ÙØ§Ù†ÙˆØ³')) || productsData[1];
  const rec2 = productsData.find(x=>x.name.includes('ØµÙ†Ø¯ÙˆÙ‚')) || productsData[0];
  document.getElementById('recImg1').src = rec1.img || './placeholder.jpg';
  document.getElementById('recImg2').src = rec2.img || './placeholder.jpg';
}

/* ÙÙ„ØªØ±Ø© */
function filterCategory(cat){
  currentFilter = cat;
  renderProducts();
}

/* Ø³Ù„Ø© */
function addToCart(id){
  cart[id] = (cart[id]||0) + 1;
  updateCartUI();
  flashCartButton();
}
function removeFromCart(id){
  delete cart[id];
  updateCartUI();
}
function updateCartUI(){
  const list = document.getElementById('cartList');
  const ids = Object.keys(cart);
  if(!ids.length){
    list.className = 'muted empty';
    list.textContent = 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª';
  } else {
    list.className = '';
    list.innerHTML = '';
    ids.forEach(id=>{
      const p = productsData.find(x=>x.id==id);
      const qty = cart[id];
      const unitPrice = priceAfterDiscount(p.price);
      const row = document.createElement('div');
      row.style.display='flex';
      row.style.justifyContent='space-between';
      row.style.alignItems='center';
      row.style.padding='8px 0';
      row.innerHTML = `<div>${p.name} Ã— ${qty}</div>
        <div>${unitPrice*qty} Ø¬.Ù… <button style="margin-left:8px" onclick="removeFromCart(${id})">Ø­Ø°Ù</button></div>`;
      list.appendChild(row);
    });
  }
  const total = Object.keys(cart).reduce((s,id)=>s + priceAfterDiscount(productsData.find(p=>p.id==id).price) * cart[id], 0);
  document.getElementById('cartTotal').textContent = 'Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ' + total + ' Ø¬.Ù…';
  document.getElementById('cartCount').textContent = Object.keys(cart).reduce((s,id)=>s+cart[id],0);
}

/* ØªÙˆÙ‡Ø¬ Ø²Ø± Ø§Ù„Ø³Ù„Ø© */
let glowTimer = null;
function flashCartButton(){
  const btn = document.getElementById('cartBtn');
  btn.classList.add('glow');
  if(glowTimer) clearTimeout(glowTimer);
  glowTimer = setTimeout(()=>btn.classList.remove('glow'), 1200);
}

/* Ù…ÙˆØ¯Ø§Ù„Ø§Øª */
function openCart(){ document.getElementById('cartModal').style.display='flex'; updateCartUI(); }
function closeCart(){ document.getElementById('cartModal').style.display='none'; }
function showCheckout(){ document.getElementById('checkoutModal').style.display='flex'; }
function closeCheckout(){ document.getElementById('checkoutModal').style.display='none'; }

/* Ø¥Ø±Ø³Ø§Ù„ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨ */
const WHATSAPP_NUMBER = '201098481179';
function sendOrder(){
  const name = document.getElementById('buyerName').value.trim();
  const phone = document.getElementById('buyerPhone').value.trim();
  const address = document.getElementById('buyerAddress').value.trim();
  if(!name || !phone || !address || Object.keys(cart).length===0){
    alert('Ø£ÙƒÙ…Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø´ØªØ±ÙŠ ÙˆØ£Ø¶Ù Ù…Ù†ØªØ¬Ø§Øª Ù„Ù„Ø³Ù„Ø©');
    return;
  }
  let itemsText = '';
  Object.keys(cart).forEach(id=>{
    const p = productsData.find(x=>x.id==id);
    const unitPrice = priceAfterDiscount(p.price);
    itemsText += `- ${p.name} x ${cart[id]} = ${unitPrice*cart[id]} Ø¬.Ù…\n`;
  });
  const total = Object.keys(cart).reduce((s,id)=>s + priceAfterDiscount(productsData.find(p=>p.id==id).price) * cart[id], 0);
  const message = `Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† REO SHOP\nØ§Ù„Ø§Ø³Ù…: ${name}\nØ§Ù„Ù‡Ø§ØªÙ: ${phone}\nØ§Ù„Ø¹Ù†ÙˆØ§Ù†: ${address}\n\nØ§Ù„Ù…Ù†ØªØ¬Ø§Øª:\n${itemsText}\nØ§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ${total} Ø¬.Ù…\nØ±Ù…Ø¶Ø§Ù† ÙƒØ±ÙŠÙ… ğŸŒ™`;
  const url = `https://wa.me/${WHATSAPP_NUMBER}?text=` + encodeURIComponent(message);
  window.open(url, '_blank');
}

/* ØªÙ‡ÙŠØ¦Ø© */
renderProducts();
updateCartUI();
</script>
</body>
</html>